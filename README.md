# Светофор
## Информация

Тестовое задание реализовано на языке Java при помощи следующих компонентов:
- Spring Boot
- Spring Data JPA
- PostgreSQL
- Maven
- jQuery
- StockJS
- stomp-websocket

Перед запуском приложения нужно выполнить следующие пункты:
1. Создать **БД** и прописать ее параметры в файле **application.properties**
2. Выполнить для этой таблицы скрипт **db.sql**, который лежит в корне проекта.

Пример работы приложения: https://tl-test-taks.herokuapp.com

### REST:

- **GET** */api/tl/light* : получить текущий цвет светофора.
- **GET** */api/tl/light/bydate?date=* : получить свет светоформа из лога по дате и времени.
Дата и время должны быть представлены в следующем формате: **yyyy-MM-dd HH:mm:ss**
- **POST** */api/tl/button* : нажать кнопку для пешехода.
- **POST** */api/tl//on-service* : нажать кнопку Вкл./Выкл. сервисного режима.
## Задание

Создать сервис светофор для машин.
Пользователи могут обращаться к нему и спрашивать какой свет сейчас горит (красный, желтый, зеленый).
У светофора есть кнопка для пешеходов. При нажатии на нее должен включиться красный свет на 15 секунд.
Но:
- зеленый свет должен гореть не менее 30 сек, если горел меньше то перед тем как переключиться на красный нужно подождать.
- повторное нажатие на кнопку не должно сбрасывать таймеры.
- смена с зеленого на красный или обратно требует того чтобы желтый горел не менее 2 сек.
- должна быть возможность включить/отключить сервисный режим светофора (всегда желтый)

По желанию можно разбить написание на несколько этапов.

### Обязательная часть
1. Rest API для запроса данных светофора. Сам светофор меняет свет по таймеру 30 сек зеленый/15 сек красный
2. Добавляем кнопку, ее API и логику.
3. Добавляем логгирование всех действий

### Дополнительная

4. Добавляем тесты
5. Добавляем лог переключения светофора в БД и апи для "разбора полетов :)" чтобы можно было спросить какой свет горел в определенное время
6. Добавить websocket stream с текущим состоянием светофора

Решение должно быть опубликовано на github. 
Реализовать можно на любом языке программирования, но желательно на erlang :)
